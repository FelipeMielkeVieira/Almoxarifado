<!-- -- FeddBack -- -->
<div *ngIf="feedback == 1" id="modalFeedback">
    <div class="divInfo">
        <img id="fechar" (click)="fechar()" src="../../../assets/close.png">
        <img id="imgCerto" src="../../../assets/marca-de-verificacao.png">
        <span *ngIf="nao == 2" id="spanTexto">Baixa dada com sucesso!</span>
        <span *ngIf="nao == 1" id="spanTexto">Retirada confirmada!</span>
        <span *ngIf="nao== 0" id="spanTexto">Item cadastrado!</span>
    </div>
    <div id="fundo" style="background-color: #AEAEAE;">
        <div id="azul"></div>
    </div>
</div>

<div *ngIf="modalOrdernar" id="fundoModalOrdenar">
    <div id="containerModalOrdenar">
        <hr class="riscoAzul">
        <div class="containerFechar">
            <img class="fecharIcone espacoFecharOrdenarModal" (click)="fecharModalOrdenar()" src="../../../assets/close.png" alt="fechar">
        </div>
        <div id="containerConteudoModalOrdernar">
            <div style="width: 100%;">
                <h2 class="titleModalOrdenar">Ordenar</h2>
            </div>
            <div id="ordenarConteudo">
                <div>
                    <p class="subtitleOrdenar">Tipo</p>
                    <select name="tipoOrdenar" class="selectOrdenar">
                        <option value="0">Crescente</option>
                        <option value="1">Decrescente</option>
                    </select>
                </div>
                <div>    
                    <p class="subtitleOrdenar">Opção</p>
                    <select name="opcaoOrdenar" class="selectOrdenar">
                        <option value="0">Nome</option>
                        <option value="1">Quantidade em estoque</option>
                    </select>
                </div>
            </div>
            <div id="containerBotoesOrdenar">
                <button class="btnDevolucaoModal" style="background-color: red;" (click)="cancelarOrdenar()">Cancelar</button>
                <button class="btnDevolucaoModal" (click)="realizarOrdenacao()">Ordenar</button>
            </div>
        </div>

    </div>
</div>

<!-- -- Modal -- -->
<div *ngIf="aparecer" id="fundoModalLocalizacao">
    <div *ngIf="removerDevolucaoModal" class="modalRecusar">
        <div class="containerModal">
            <hr class="riscoAzul">
            <img class="iconeAlert" src="../../../assets/alert.png" alt="">
            <div class="containerInfoModal">
                <span class="textoModal">Tem certeza que deseja remover?</span>
            </div>
            <div class="containerBotoes">
                <button (click)="cancelar()" class="botaoCancelar">Cancelar</button>
                <button (click)="removerDevolucaoModalBtn()" class="botaoRecusar">Remover</button>
            </div>
        </div>
    </div>

    <div *ngIf="devolucaoModal" id="baixaDevolucoesModal">
        <hr class="riscoAzul">
        <div id="containerDevolucaoModal">
            <div class="containerFechar">
                <img class="fecharIcone" (click)="fecharModalBaixaDevolucao()" src="../../../assets/close.png"
                    alt="fechar">
            </div>
            <ul id="listaItemsBaixaDevolucao">
                <li>
                    <!-- *ngFor="let item of listaItemsBaixaDevolucao" -->
                    <div class="containerConteudoBaixaDevolucao">
                        <div class="containerImgBaixaDevolucao">
                            <img class="imgItemBaixaDevolucao" src="../../../assets/Rele.png" alt="Relé térmico">
                        </div>
                        <div class="parteDireitaItemBaixaDevolucao">
                            <h2 class="nomeItemBaixaDevolucao">Nome Produto</h2>
                            <div class="containerInfoItemBaixaDevolucao">
                                <!-- {{ item.posicao }} -->
                                <p>posicao</p>
                                <!-- {{ item.qtd }} -->
                                <p *ngIf="nao == 2">qtd</p>
                                <p *ngIf="nao == 1" id="quantidadeProduto">qtd</p>
                                <!-- informarDefeitoItem(item) -->
                                <div class="botoesDevolucaoModal">
                                    <button (click)="acaoSegundariaDevolucaoModal()"
                                        class="btnDevolucaoModal btnSegundario"
                                        style="background-color: red; margin-bottom: 0.2rem;">{{
                                        textoAcaoSegundariaDevolucaoModal() }}</button>
                                    <button *ngIf="nao == 2" (click)="informarDefeitoItem()"
                                        class="btnDevolucaoModal">Informar
                                        Defeito</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
            <button *ngIf="nao == 2" (click)="darBaixaDevolucao()" class="btnDevolucaoModal darBaixa">Dar baixa</button>
            <button *ngIf="nao == 1" (click)="botaoConfirmarRetirada()" class="btnDevolucaoModal darBaixa">Confirmar
                retirada</button>
            <div id="containerCancelarReserva">
                <img id="cancelarReserva" src="../../../assets/cancelarReserva.png" alt="Cancelar"
                    title="Cancelar Reserva">
            </div>
        </div>
    </div>

    <div *ngIf="informarDefeitoModal" id="containerInformarMotivo">
        <hr class="riscoAzul">
        <div id="containerInformarDefeitoModal">
            <div class="containerFechar">
                <img class="fecharIcone" (click)="voltarDevolucaoItens()" src="../../../assets/close.png" alt="fechar">
            </div>
            <h2 class="tituloInformarDefeito">Informar Defeito</h2>
            <div id="containerConteudoInformarDefeito">
                <!-- <input type="textarea" id="informarDefeitoInput"> -->
                <textarea id="texteArea" rows="15" cols="60" maxlength="500"></textarea>
                <div class="divBotoes">
                    <button (click)="voltarDevolucaoItens()" id="voltarInformarDefeito"
                        class="btnDevolucaoModal">Voltar</button>
                    <button (click)="voltarDevolucaoItens()" id="salvarInformarDefeito"
                        class="btnDevolucaoModal">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="localizacaoModal" id="containerModalLocalizacao">
        <hr class="riscoAzul">
        <div id="containerIcons">
            <img id="iconFechar" (click)="fecharModalLocalizacao()" src="../../../assets/close.png" alt="fechar">
        </div>
        <div id="dados">
            <div id="containerNome">
                <span>Nome:</span>
                <input id="inputNome" type="text" placeholder="Nome">
            </div>
            <div id="containerCadastrar">
                <button id="botaoCadastrar" (click)="cadastrar()">Cadastrar</button>
            </div>
        </div>
    </div>
    <!-- Modal cadastrar item -->
    <div *ngIf="cadastrarModal" id="containerModalCadastrar">
        <hr class="riscoAzul">
        <div id="containerIcons">
            <img id="iconFechar" (click)="fecharModalCadastrar()" src="../../../assets/close.png" alt="fechar">
        </div>
        <div class="principal">
            <div class="containerModalCadastrar">
                <div class="divImg">
                    <button class="selecionarImg">Selecionar Imagem</button>
                </div>
                <div class="nomeProduto">
                    <span>Nome Produto: </span>
                    <div class="containerInput">
                        <input class="inputsCadastro" type="text" placeholder="Nome produto">
                    </div>
                </div>
                <div class="classificacao">
                    <span>Classificação: </span>
                    <input class="inputsCadastro" type="text" placeholder="Classificação">
                </div>
                <div class="descricao">
                    <span>Descrição: </span>
                    <textarea class="inputDescricao" placeholder="Descrição"></textarea>
                </div>
                <div class="localizacao">
                    <div style="display: flex;">
                        <span style="margin-right: 10px;">Localização: </span>
                        <div class="containerLocalizacao">
                            <select *ngIf="localizacoesItem > 0" id="localizacaoProduto1" class="localizacaoProduto">
                                <option *ngFor="let loc of localizacoesLista">{{loc.nome}}</option>
                            </select>
                            <select *ngIf="localizacoesItem > 1" id="localizacaoProduto2" class="localizacaoProduto">
                                <option *ngFor="let loc of localizacoesLista">{{loc.nome}}</option>
                            </select>
                            <select *ngIf="localizacoesItem > 2" id="localizacaoProduto3" class="localizacaoProduto">
                                <option *ngFor="let loc of localizacoesLista">{{loc.nome}}</option>
                            </select>
                            <select *ngIf="localizacoesItem > 3" id="localizacaoProduto4" class="localizacaoProduto">
                                <option *ngFor="let loc of localizacoesLista">{{loc.nome}}</option>
                            </select>
                            <select *ngIf="localizacoesItem > 4" id="localizacaoProduto5" class="localizacaoProduto">
                                <option *ngFor="let loc of localizacoesLista">{{loc.nome}}</option>
                            </select>
                            <select *ngIf="localizacoesItem > 5" id="localizacaoProduto6" class="localizacaoProduto">
                                <option *ngFor="let loc of localizacoesLista">{{loc.nome}}</option>
                            </select>
                        </div>
                    </div>
                    <div style="display: flex;">
                        <div class="divPonto" (click)="adicionarLocalizacao()">
                            <img class="imgMaisLoc" src="../../../assets/mais.png">
                        </div>
                        <div class="divPonto" (click)="diminuirLocalizacao()">
                            <img class="imgMaisLoc" src="../../../assets/menos.png">
                        </div>
                    </div>
                </div>
                <div class="opcao">
                    <span>Opção: </span>
                    <select id="selecionarDescartavel">
                        <option value="paredeCentro" selected>Descartável</option>
                        <option value="armario">Não Descartável</option>
                    </select>
                    <span>QTD: </span>
                    <input class="inputQtd" type="text" placeholder="xx">
                </div>
                <div class="anexo">
                    <input type="text" placeholder="Adicionar Anexo" class="inputAnexo">
                    <label for="arquivo"> </label>
                    <input type="file" name="arquivo" id="arquivo">
                </div>
                <button (click)="cadastrarProduto()" class="botaoCadastrar">Cadastrar</button>
            </div>

        </div>
    </div>
</div>

<app-header></app-header>
<app-filtro></app-filtro>

<main>
    <div class="divPrincipal">
        <div id="caminho">
            <img id="casa" src="../../../assets/casa.png" alt="Casa">
        </div>
        <div id="container">
            <div id="containerConteudo">
                <div id="containerInput">
                    <div id="containerLinhaInput">
                        <div id="containerInputOrdenar">
                            <div id="divInput">
                                <input *ngIf="gerenciaCadastros == 1" [(ngModel)]="inputGeral" class="input" type="text"
                                    placeholder="Pesquise por usuário...">
                                <input *ngIf="gerenciaUsuarios == 1" [(ngModel)]="inputGeral" class="input" type="text"
                                    placeholder="Pesquise por usuário...">
                                <input *ngIf="devolucoes == 1" [(ngModel)]="inputGeral" class="input" type="text"
                                    placeholder="Pesquise por produto...">
                                <input *ngIf="retirada == 1" [(ngModel)]="inputGeral" class="input" type="text"
                                    placeholder="Pesquise por produto...">
                                <input *ngIf="listaItens == 1" [(ngModel)]="inputGeral" class="input" type="text"
                                    placeholder="Pesquise por produto...">
                                <input *ngIf="contLocalizacoes == 1" [(ngModel)]="inputGeral"
                                    (keyup)="pesquisaLocalizacao()" class="input" type="text"
                                    placeholder="Pesquise por localização...">
                                <img id="lupa" src="../../../assets/lupa.png" alt="Lupa">
                            </div>
                            <div id="iconListaBloco">
                                <img src="../../../assets/ordenar.png" id="ordernar" (click)="ordernar()" alt="Ordernar"
                                    title="Ordernar">
                                <img *ngIf="emBloco == 1" (click)="mostrarEmBloco()" id="emBloco"
                                    src="../../../assets/emBloco.png" alt="em bloco" title="Ver em bloco">
                                <img *ngIf="emBloco == 0" (click)="mostrarEmLista()" id="emLista"
                                    src="../../../assets/emLista.png" alt="em lista" title="Ver em lista">
                            </div>
                        </div>
                        <button *ngIf="contLocalizacoes == 1" id="botaoCadastrarLocalizacoes"
                            (click)="aparecerModalLocalizacao()">
                            Cadastrar localizações
                        </button>
                        <button *ngIf="listaItens == 1 && (tipoUsuario == 3 || tipoUsuario == 4)"
                            id="botaoCadastrarProduto" (click)="aparecerModalCadastrar()">
                            Cadastrar Item</button>
                    </div>
                    <div id="filtro">

                    </div>
                    <p id="resultados">{{ numResultados }} Resultados encontrados</p>
                </div>
                <div id="botoes">
                    <button *ngIf="tipoUsuario == 4" (click)="gerenciarUsuarios()" id="gerenciarUsuarios"
                        class="semAzul">Gerenciar
                        usuários</button>
                    <button *ngIf="tipoUsuario == 4" (click)="gerenciarCadastros()" id="gerenciarCadastros"
                        class="semAzul">Gerenciar
                        cadastros</button>
                    <button (click)="baixaDevolucoes()" id="devolucoes" class="semAzul">Baixa nas devoluções</button>
                    <button (click)="confirmarRetirada()" id="retirada" class="semAzul">Confirmar retirada</button>
                    <button (click)="listaDeItens()" id="listaItens" class="semAzul">Lista de itens</button>
                    <button *ngIf="tipoUsuario == 3 || tipoUsuario == 4" (click)="localizacoes()" id="localizacoes"
                        class="semAzul">Localizações</button>
                </div>
                <div id="risco"></div>
                <div *ngIf="gerenciaCadastros == 1 && emBloco == 0" class="usuarios">
                    <div class="containerUsuario">
                        <div class="containerUser">
                            <img class="imgUser" src="../../../assets/user.png" alt="">
                            <div class="containerInfo">
                                <span class="user">Nome Sobrenome</span>
                                <span class="email">nome_sobrenome@estudante.sc.senai.br</span>
                            </div>
                        </div>
                        <div class="containerOpcoes">
                            <div (click)="modalRecusar()" class="recusar">
                                <img class="icone" src="../../../assets/close.png" alt="">
                            </div>
                            <div (click)="modalAceitar()" class="aceitar">
                                <img class="icone" src="../../../assets/verifica.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="gerenciaCadastros == 1 && emBloco == 1" class="usuarios">
                    <div class="containerUsuarioLista">
                        <div class="containerUser">
                            <div id="containerUserImagemTexto">
                                <img class="imgUser" src="../../../assets/user.png" alt="">
                                <div class="containerInfo">
                                    <span class="user">Nome Sobrenome</span>
                                    <span class="email">nome_sobrenome@estudante.sc.senai.br</span>
                                </div>
                            </div>
                        </div>
                        <div class="containerOpcoes">
                            <div (click)="modalRecusar()" class="recusar">
                                <img class="icone" src="../../../assets/close.png" alt="">
                            </div>
                            <div (click)="modalAceitar()" class="aceitar">
                                <img class="icone" src="../../../assets/verifica.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="gerenciaUsuarios == 1 && emBloco == 0" class="telaUsuarios">
                    <div class="containerUsuarios">
                        <div class="containerUser">
                            <img class="imgUser" src="../../../assets/user.png" alt="">
                            <div class="containerInfo">
                                <span class="user">Nome Sobrenome</span>
                                <span class="email">nome_sobrenome@edu.sc.senai.br</span>
                            </div>
                            <div class="containerLixeira">
                                <img class="iconeLixeira" src="../../../assets/lixeira-de-reciclagem.png" alt="">
                            </div>
                        </div>
                        <div class="parteBaixo">
                            <select id="selecionarFuncao2">
                                <option value="paredeCentro" selected>Professor</option>
                                <option value="armario">Atendente 1</option>
                                <option value="porta">Atendente 2</option>
                                <option value="supervisor">Supervisor</option>
                            </select>
                            <div class="aceitar">
                                <img class="icone" src="../../../assets/verifica.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="gerenciaUsuarios == 1 && emBloco == 1" class="telaUsuarios">
                    <div class="containerUsuariosLista">
                        <div class="containerUser">
                            <div id="containerUserImagemTexto">
                                <img class="imgUser" src="../../../assets/user.png" alt="">
                                <div class="containerInfo">
                                    <span class="user">Nome Sobrenome</span>
                                    <span class="email">nome_sobrenome@edu.sc.senai.br</span>
                                </div>
                            </div>
                            <div class="parteBaixo">
                                <select id="selecionarFuncao2">
                                    <option value="paredeCentro" selected>Professor</option>
                                    <option value="armario">Atendente 1</option>
                                    <option value="porta">Atendente 2</option>
                                </select>
                                <div class="aceitar">
                                    <img class="icone" src="../../../assets/verifica.png" alt="">
                                </div>
                            </div>
                            <div class="containerLixeiraLista">
                                <img class="iconeLixeira" src="../../../assets/lixeira-de-reciclagem.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="devolucoes == 1" class="containerDevolucoes">
                    <app-reserva-atendente [lista]="emBloco" (click)="abrirDevolucao(1)"></app-reserva-atendente>
                    <app-reserva-atendente [lista]="emBloco" (click)="abrirDevolucao(1)"></app-reserva-atendente>
                </div>
                <div *ngIf="retirada == 1" class="containerRetirada">
                    <app-reserva-atendente [lista]="emBloco" (click)="abrirDevolucao(2)"></app-reserva-atendente>
                    <app-reserva-atendente [lista]="emBloco" (click)="abrirDevolucao(2)"></app-reserva-atendente>
                </div>
                <div *ngIf="listaItens == 1 && emBloco == 0" class="containerLista">
                    <app-item [lista]="emBloco" *ngFor="let item of listaItens2" [item]="item"></app-item>
                </div>
                <div *ngIf="listaItens == 1 && emBloco == 1" class="containerListaLista">
                    <app-item [lista]="emBloco" *ngFor="let item of listaItens2" [item]="item"></app-item>
                </div>
                <div *ngIf="contLocalizacoes == 1" id="conteudoLocalizacoes">
                    <div id="containerLocalizacoes">
                        <div *ngFor="let loc of localizacoesFiltradas; let i = index" id="divLocalizacao">
                            <p>{{loc.nome}}</p>
                            <img class="lixo" src="../../../assets/lixeira-de-reciclagem.png" alt="lixo"
                                (click)="excluirLocalizacao(i)">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="contadorRecusar == 1" class="modalRecusar">
        <div class="containerModal">
            <hr class="riscoAzul">
            <img class="iconeAlert" src="../../../assets/alert.png" alt="">
            <div class="containerInfoModal">
                <span class="textoModal">{{ buscarTextoModalRecusar() }}</span>
            </div>
            <div class="containerBotoes">
                <button (click)="cancelar()" class="botaoCancelar">Cancelar</button>
                <button (click)="btnRecusar()" class="botaoRecusar">{{ buscarTextoBotaoModalRecusar() }}</button>
            </div>
        </div>
    </div>
    <div *ngIf="contadorAceitar == 1" class="modalRecusar">
        <div class="containerModal">
            <div class="linhaAzul"></div>
            <img class="iconeAlert" src="../../../assets/alert.png" alt="">
            <div class="containerInfoModal">
                <span class="textoModal">Selecione a função: </span>
                <select id="selecionarFuncao">
                    <option value="paredeCentro" selected>Professor</option>
                    <option value="armario">Atendente 1</option>
                    <option value="porta">Atendente 2</option>
                    <option value="supervisor">Supervisor</option>
                </select>
            </div>
            <div class="containerBotoes">
                <button (click)="cancelar()" class="botaoCancelar">Cancelar</button>
                <button class="botaoRecusar">Aceitar</button>
            </div>
        </div>
    </div>
</main>